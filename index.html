<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SISTEM_KRITIK_DURUM</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; overflow:hidden; touch-action:none; }
        body { background:#000; font-family:'Courier New', monospace; color: #f00; transition: background 0.05s; }
        canvas { position:fixed; top:0; left:0; z-index:1; }
        #ui-layer { position:fixed; top:0; left:0; width:100%; height:100%; z-index:100; display:flex; justify-content:center; align-items:center; flex-direction: column; }

        /* EKRAN 1: RESMİ TUZAK */
        .alert-box {
            width:90%; padding:30px; border:3px double #f00; background:rgba(0,0,0,0.95);
            text-align:center; box-shadow: 0 0 50px #f00; border-radius: 10px;
            animation: vibe 0.1s infinite;
        }

        /* EKRAN 2: DEHŞET PANELİ */
        #step2 { display:none; width:100%; height:100%; position: absolute; z-index: 105; background: #000; }
        .main-panel {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 95%; padding: 25px; border: 2px solid #fff; background: #000;
        }

        /* YILDIRIM GİBİ PATLAYAN METİN */
        .thunder-text {
            font-size: 2rem; font-weight: 900; color: #fff; text-shadow: 0 0 30px #fff;
            display: none; text-align: center; margin: 20px 0;
            animation: lightning 0.15s infinite;
        }

        #timer { font-size: 30vw; font-weight: 900; color: #fff; text-shadow: 0 0 30px #f00; display:none; }
        .info-box { text-align: left; font-size: 0.85rem; color: #0f0; border-top: 1px solid #333; padding-top: 10px; line-height: 1.8; }
        .btn-green { background:#0f0; color:#000; border:none; padding:18px; width:85%; font-size:1.1rem; font-weight:900; border-radius:4px; box-shadow: 0 0 20px #0f0; cursor: pointer; text-transform: uppercase; }

        @keyframes lightning { 
            0% { opacity: 0; transform: scale(0.95); background: rgba(255,255,255,0); }
            50% { opacity: 1; transform: scale(1.1); background: rgba(255,255,255,1); }
            100% { opacity: 0; transform: scale(1); }
        }
        @keyframes vibe { 0%{transform:translate(2px,2px)} 50%{transform:translate(-2px,-2px)} 100%{transform:translate(2px,-2px)} }
        @keyframes extreme-shake { 0%{transform:translate(-50%,-50%) scale(1.1)} 25%{transform:translate(-53%,-47%) rotate(3deg)} 75%{transform:translate(-47%,-53%) rotate(-3deg)} 100%{transform:translate(-50%,-50%) scale(1)} }
    </style>
</head>
<body>

<canvas id="canvas"></canvas>

<div id="ui-layer">
    <div id="step1" class="alert-box">
        <h1 style="color:#f00; font-size:1.8rem;">⚠️ KRİTİK UYARI ⚠️</h1>
        <p style="color:#fff; margin:15px 0; font-weight:bold;">DIŞ KAYNAKLI BİR SALDIRI TESPİT EDİLDİ.</p>
        <p style="font-size:1.2rem; margin-bottom:20px;">Güvenliğiniz için lütfen onay verin.</p>
        <button class="btn-green" onclick="startDehset()">OTAMATİK GÜVENLİK</button>
    </div>

    <div id="step2">
        <div class="main-panel" id="panel">
            <h2 id="header-status" style="color: #0f0; font-size:0.8rem;">> SİSTEME ERİŞİLDİ: VERİLER ÇEKİLİYOR...</h2>
            <div id="intel" class="info-box"></div>
            <div id="thunder" class="thunder-text">VİRÜS BULAŞTIRILIYOR!</div>
            <div id="timer">15</div>
            <div id="log" style="color:#ff0; font-size:0.7rem; margin-top:10px;">ANALİZ: %0...</div>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let audioCtx, timeLeft = 15;

    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    const words = ["FATAL", "VOID", "SIZMA", "0x666", "ERROR", "CRASH"];
    const particles = [];
    for(let i=0; i<40; i++) particles.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, text: words[Math.floor(Math.random()*words.length)], speed: Math.random()*2+1, size: Math.random()*15+10 });

    function render() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.3)"; ctx.fillRect(0,0,canvas.width,canvas.height);
        particles.forEach(p => {
            ctx.fillStyle = (timeLeft < 15) ? "#f00" : "#300";
            ctx.font = `bold ${p.size}px Courier New`;
            ctx.fillText(p.text, p.x, p.y);
            p.y += p.speed; if(p.y > canvas.height) p.y = -20;
        });
        requestAnimationFrame(render);
    }
    render();

    /* ---------- PROFESYONEL ACİL DURUM SİRENİ ---------- */
    function siren(intense=false) {
        if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const o1 = audioCtx.createOscillator(); 
        const o2 = audioCtx.createOscillator(); 
        const g = audioCtx.createGain();
        const t = audioCtx.currentTime;

        o1.type = "sawtooth"; // Testere dişi (keskin)
        o2.type = "square";   // Kare dalga (dijital)

        o1.frequency.setValueAtTime(intense ? 200 : 100, t);
        o1.frequency.linearRampToValueAtTime(intense ? 500 : 250, t + 1);
        o1.frequency.linearRampToValueAtTime(intense ? 200 : 100, t + 2);

        o2.frequency.setValueAtTime(intense ? 1000 : 700, t);
        o2.frequency.linearRampToValueAtTime(intense ? 1800 : 1200, t + 1);
        o2.frequency.linearRampToValueAtTime(intense ? 1000 : 700, t + 2);

        g.gain.value = intense ? 0.45 : 0.2;

        o1.connect(g); o2.connect(g); g.connect(audioCtx.destination);
        o1.start(t); o2.start(t);
        o1.stop(t + 2); o2.stop(t + 2);
    }

    const introSiren = setInterval(() => {
        if(document.getElementById('step2').style.display !== 'block') siren(false);
        else clearInterval(introSiren);
    }, 2800);

    async function startDehset() {
        document.getElementById('step1').style.display = 'none';
        document.getElementById('step2').style.display = 'block';
        if(document.documentElement.requestFullscreen) document.documentElement.requestFullscreen();

        // Yoğun siren döngüsü başlar
        setInterval(() => siren(true), 1900);

        // CANLI VERİ ÇEKME
        const ipRes = await fetch('https://api.ipify.org?format=json').then(r=>r.json()).catch(()=>({ip:"85.x.x.x"}));
        const batt = await (navigator.getBattery ? navigator.getBattery() : Promise.resolve({level:0.5}));
        
        const lines = [
            `> AD_SOYAD: TESPİT EDİLDİ [ADMIN]`,
            `> NUMARA: +90 (***) *** ** **`,
            `> IP_ADRESİ: ${ipRes.ip}`,
            `> CİHAZ_MODELİ: ${navigator.platform}`,
            `> BATARYA_GÜCÜ: %${Math.floor(batt.level*100)}`,
            `> KONUM: ERİŞİM SAĞLANDI`
        ];

        let i = 0;
        const infoLoop = setInterval(() => {
            if(i < lines.length) {
                const div = document.createElement('div');
                div.innerHTML = lines[i++];
                document.getElementById('intel').appendChild(div);
            } else {
                clearInterval(infoLoop);
                setTimeout(triggerBPlan, 1500);
            }
        }, 800);
    }

    function triggerBPlan() {
        document.getElementById('header-status').innerText = "> PERSONEL BİLGİLERİ KAYDEDİLDİ. B PLANI AKTİF!";
        document.getElementById('header-status').style.color = "#f00";
        document.getElementById('panel').style.animation = "extreme-shake 0.05s infinite";
        document.getElementById('thunder').style.display = "block";
        document.getElementById('timer').style.display = "block";

        const countdown = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            document.getElementById('log').innerText = `SİSTEM İMHA YÜZDESİ: %${100 - (timeLeft*6)}`;
            
            if(timeLeft <= 5) {
                document.body.style.background = (timeLeft % 2 === 0) ? "#fff" : "#f00";
            }

            if(timeLeft <= 0) {
                clearInterval(countdown);
                finish();
            }
        }, 1000);
    }

    function finish() {
        document.body.style.background = "#fff";
        document.body.innerHTML = `
            <div style="color:#000; height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; padding:20px; font-family:sans-serif;">
                <h1 style="font-size:10rem;">☠️</h1>
                <h1 style="color:red; font-size:2.5rem;">SİSTEM SİLİNDİ</h1>
                <p style="margin-top:20px; font-weight:bold;">Tüm dosyalarınız ve personel bilgileriniz başarıyla imha edilmiştir.</p>
                <button onclick="location.reload()" style="margin-top:30px; padding:15px 30px; background:#000; color:#fff; border:none; border-radius:10px; font-weight:bold;">REBOOT (SİSTEMİ KURTAR)</button>
            </div>
        `;
    }
</script>
</body>
</html>
